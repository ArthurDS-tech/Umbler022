# =============================================
# CONFIGURAÇÃO POSTGRESQL (NEON)
# =============================================

# String de conexão do PostgreSQL (Neon)
# Formato: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@host:5432/database

# =============================================
# CONFIGURAÇÕES DA APLICAÇÃO
# =============================================

# Ambiente
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# =============================================
# SEGURANÇA
# =============================================

# Secret para validação de webhooks da Umbler
WEBHOOK_SECRET=seu_webhook_secret_aqui_mude_em_producao

# Secret para JWT (tokens de autenticação)
JWT_SECRET=seu_jwt_secret_aqui_mude_em_producao

# Rounds para bcrypt (hash de senhas)
BCRYPT_ROUNDS=12

# =============================================
# RATE LIMITING
# =============================================

# Janela de tempo para rate limiting (15 minutos)
RATE_LIMIT_WINDOW_MS=900000

# Máximo de requisições por IP na janela
RATE_LIMIT_MAX_REQUESTS=100

# Máximo de webhooks por IP na janela
RATE_LIMIT_WEBHOOK_MAX=1000

# =============================================
# LOGGING
# =============================================

# Nível de log (debug, info, warn, error)
LOG_LEVEL=info

# Arquivo de log
LOG_FILE=logs/app.log

# Tamanho máximo do arquivo de log
LOG_MAX_SIZE=20m

# Número máximo de arquivos de log
LOG_MAX_FILES=14

# =============================================
# CORS (CROSS-ORIGIN RESOURCE SHARING)
# =============================================

# Origens permitidas (separadas por vírgula)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Permitir credenciais
CORS_CREDENTIALS=false

# =============================================
# TÚNEL (NGROK)
# =============================================

# Iniciar túnel automaticamente em desenvolvimento
AUTO_START_TUNNEL=false

# Token de autenticação do ngrok
NGROK_AUTH_TOKEN=

# Região do ngrok
NGROK_REGION=us

# =============================================
# PROXY
# =============================================

# Confiar em proxy (Heroku, Vercel, etc)
TRUST_PROXY=false

# =============================================
# UPLOAD
# =============================================

# Tamanho máximo de arquivo (10MB)
MAX_FILE_SIZE=10485760

# Tipos MIME permitidos
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain

# =============================================
# CACHE
# =============================================

# Habilitar cache
CACHE_ENABLED=false

# TTL do cache (5 minutos)
CACHE_TTL=300

# Tamanho máximo do cache
CACHE_MAX_SIZE=100

# =============================================
# MONITORAMENTO
# =============================================

# Habilitar monitoramento
MONITORING_ENABLED=false

# Porta para métricas
METRICS_PORT=9090

# =============================================
# BACKUP
# =============================================

# Habilitar backup automático
BACKUP_ENABLED=false

# Cron para backup (2 AM diariamente)
BACKUP_SCHEDULE=0 2 * * *

# Dias de retenção do backup
BACKUP_RETENTION_DAYS=30

# =============================================
# LIMPEZA
# =============================================

# Habilitar limpeza automática
CLEANUP_ENABLED=false

# Cron para limpeza (3 AM diariamente)
CLEANUP_SCHEDULE=0 3 * * *

# Dias de retenção para eventos de webhook
CLEANUP_WEBHOOK_DAYS=30

# Dias de retenção para mensagens
CLEANUP_MESSAGES_DAYS=365

# =============================================
# CONFIGURAÇÕES DO BANCO
# =============================================

# Máximo de conexões no pool
DB_MAX_CONNECTIONS=20

# Timeout para conexões ociosas (30 segundos)
DB_IDLE_TIMEOUT=30000

# Timeout para conexão (2 segundos)
DB_CONNECTION_TIMEOUT=2000

# Timeout para aquisição de conexão (2 segundos)
DB_ACQUIRE_TIMEOUT=2000

# Intervalo de limpeza do pool (1 segundo)
DB_REAP_INTERVAL=1000

# Timeout para criação de conexão (3 segundos)
DB_CREATE_TIMEOUT=3000

# Timeout para destruição de conexão (5 segundos)
DB_DESTROY_TIMEOUT=5000

# =============================================
# DESENVOLVIMENTO
# =============================================

# Modo debug
DEBUG_MODE=true

# Auto reload
AUTO_RELOAD=true

# Dados mock
MOCK_DATA=false

# Pular verificação de conexão com banco
SKIP_DB_CONNECTION=false

# =============================================
# URLS E ENDPOINTS
# =============================================

# URL base da aplicação
BASE_URL=http://localhost:3000

# Endpoint do webhook
WEBHOOK_URL=/webhook/umbler

# Base da API
API_BASE_URL=/api

# URL do dashboard
DASHBOARD_URL=/dashboard