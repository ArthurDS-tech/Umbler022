# =============================================
# CONFIGURAÇÕES BÁSICAS
# =============================================
NODE_ENV=development
PORT=3000
HOST=localhost
TRUST_PROXY=false
FORCE_HTTPS=false

# =============================================
# SUPABASE (OBRIGATÓRIO)
# =============================================
# Obtenha essas informações no painel do Supabase
SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_ANON_KEY=sua_chave_anonima_aqui
SUPABASE_SERVICE_ROLE_KEY=sua_chave_service_role_aqui

# =============================================
# SEGURANÇA
# =============================================
# Gere uma chave JWT segura: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=sua_chave_jwt_secreta_muito_segura_aqui
JWT_EXPIRES_IN=24h

# Chave secreta para validar webhooks da Umbler
WEBHOOK_SECRET=chave_secreta_do_webhook_umbler

# Configurações de criptografia
BCRYPT_ROUNDS=12

# =============================================
# CORS (para seu frontend)
# =============================================
# Adicione os domínios do seu frontend
CORS_ORIGIN=http://localhost:3001,http://localhost:5173,http://localhost:8080,https://seu-dominio.com
CORS_CREDENTIALS=true

# =============================================
# RATE LIMITING
# =============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WEBHOOK_MAX=1000
RATE_LIMIT_SECRET=rate_limit_secret_key

# =============================================
# LOGS
# =============================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
PRETTY_LOGS=true

# =============================================
# WEBHOOK
# =============================================
WEBHOOK_BASE_URL=http://localhost:3000
WEBHOOK_PATH=/webhook/umbler
WEBHOOK_TIMEOUT=30000
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY=5000

# =============================================
# REDIS (OPCIONAL)
# =============================================
# Descomente se usar Redis
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
# REDIS_DB=0

# =============================================
# EMAIL (OPCIONAL)
# =============================================
# Configurações SMTP para notificações
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=seu-email@gmail.com
# SMTP_PASS=sua_senha_app
# EMAIL_FROM=noreply@seudominio.com

# =============================================
# MONITORAMENTO (OPCIONAL)
# =============================================
# Sentry para monitoramento de erros
# SENTRY_DSN=https://sua_chave_sentry@sentry.io/projeto

# =============================================
# NGROK (para túnel público)
# =============================================
# Obtenha em https://ngrok.com
NGROK_AUTHTOKEN=seu_token_ngrok_aqui
NGROK_SUBDOMAIN=seu_subdominio_aqui

# =============================================
# DESENVOLVIMENTO
# =============================================
DEBUG=true
MOCK_WEBHOOKS=false
LOG_REQUESTS=true
AUTO_START_TUNNEL=true

# Pular conexão com banco em desenvolvimento
# SKIP_DB_CONNECTION=false

# =============================================
# BACKUP (OPCIONAL)
# =============================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================
# EXEMPLO DE CONFIGURAÇÃO COMPLETA
# =============================================
# Copie este arquivo para .env e configure as variáveis obrigatórias:
# 1. SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEY
# 2. JWT_SECRET (gere uma chave segura)
# 3. WEBHOOK_SECRET (chave para validar webhooks)
# 4. CORS_ORIGIN (domínios do seu frontend)
# 5. NGROK_AUTHTOKEN (se quiser usar túnel público)