# =============================================
# CONFIGURAÇÕES DO SERVIDOR
# =============================================
NODE_ENV=development
PORT=3000
HOST=localhost

# =============================================
# CONFIGURAÇÕES DO SUPABASE
# =============================================
SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================
# CONFIGURAÇÕES DE SEGURANÇA
# =============================================
# Chave secreta para JWT (gere uma nova)
JWT_SECRET=sua-chave-secreta-super-forte-aqui-min-32-chars
# Token para validar webhooks da Umbler (opcional)
WEBHOOK_SECRET=token-secreto-para-validar-webhook-umbler
# Chave para rate limiting
RATE_LIMIT_SECRET=chave-para-rate-limiting

# =============================================
# CONFIGURAÇÕES DE LOGGING
# =============================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# =============================================
# CONFIGURAÇÕES DE RATE LIMITING
# =============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WEBHOOK_MAX=1000

# =============================================
# CONFIGURAÇÕES DE CORS
# =============================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# =============================================
# CONFIGURAÇÕES DO WEBHOOK
# =============================================
# URL base do seu servidor para webhooks
WEBHOOK_BASE_URL=https://seu-dominio.com
# Path do endpoint do webhook (será: /webhook/umbler)
WEBHOOK_PATH=/webhook/umbler
# Timeout para processar webhooks (em ms)
WEBHOOK_TIMEOUT=30000

# =============================================
# CONFIGURAÇÕES DE RETRY
# =============================================
# Máximo de tentativas para reprocessar webhook com erro
MAX_RETRY_ATTEMPTS=3
# Delay entre tentativas (em ms)
RETRY_DELAY=5000

# =============================================
# CONFIGURAÇÕES DE CACHE (OPCIONAL)
# =============================================
# Se usar Redis para cache
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================
# CONFIGURAÇÕES DE EMAIL (OPCIONAL)
# =============================================
# Para notificações por email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASS=sua-senha-app
EMAIL_FROM=noreply@seudominio.com

# =============================================
# CONFIGURAÇÕES DE MONITORAMENTO (OPCIONAL)
# =============================================
# Se usar Sentry para monitoramento de erros
SENTRY_DSN=https://abc123@sentry.io/123456

# =============================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# =============================================
# Apenas para desenvolvimento
DEBUG=true
PRETTY_LOGS=true

# =============================================
# CONFIGURAÇÕES DE PRODUÇÃO
# =============================================
# Trust proxy (importante para Heroku, Vercel, etc)
TRUST_PROXY=true
# Força HTTPS em produção
FORCE_HTTPS=false

# =============================================
# CONFIGURAÇÕES DE BACKUP (OPCIONAL)
# =============================================
# Para backup automático do banco
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================
# INFORMAÇÕES IMPORTANTES
# =============================================
# 
# 1. NUNCA commite o arquivo .env no Git!
# 2. Copie este arquivo para .env e preencha os valores reais
# 3. Para gerar JWT_SECRET forte use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 4. O SUPABASE_SERVICE_ROLE_KEY é necessário para operações administrativas
# 5. Configure CORS_ORIGIN com os domínios que irão acessar sua API
# 6. Em produção, defina NODE_ENV=production
# 7. Use HTTPS em produção (configure FORCE_HTTPS=true)
#
# EXEMPLO DE CONFIGURAÇÃO MÍNIMA PARA FUNCIONAR:
# NODE_ENV=development
# PORT=3000
# SUPABASE_URL=https://abc123.supabase.co
# SUPABASE_ANON_KEY=sua-chave-anonima
# SUPABASE_SERVICE_ROLE_KEY=sua-chave-service-role
# JWT_SECRET=sua-chave-jwt-de-32-caracteres-minimo